syntax = 'proto3';

package com.science.foundry.tools.grpc_interfaces.bravo;

message Command {
  oneof command {
    Initialize initialize = 1;
    Close close = 2;
    HomeW home_w = 3;
    HomeXYZ home_xyz = 4;
    Mix mix = 5;
    Wash wash = 6;
    Aspirate aspirate = 7;
    Dispense dispense = 8;
    TipsOn tips_on = 9;
    TipsOff tips_off = 10;
    MoveToLocation move_to_location = 11;
    SetLabwareAtLocation set_labware_at_location = 12;
    SetLiquidClass set_liquid_class = 13;
    PickAndPlace pick_and_place = 14;
    GetDeviceConfiguration get_device_configuration = 15;
    GetFirmwareVersion get_firmware_version = 16;
    EnumerateProfiles enumerate_profiles = 17;
    ShowDiagnostics show_diagnostics = 18;
  }

  message Initialize {
    string profile = 1;
  }

  message Close {}

  message HomeW {}

  message HomeXYZ {}

  message Mix {
    float volume = 1;
    float pre_aspirate_volume = 2;
    float blow_out_volume = 3;
    int32 cycles = 4;
    int32 plate_location = 5;
    float distance_from_well_bottom = 6;
    float retract_distance_per_microliter = 7;
  }

  message Wash {
    float volume = 1;
    bool empty_tips = 2;
    float pre_aspirate_volume = 3;
    float blow_out_volume = 4;
    int32 cycles = 5;
    int32 plate_location = 6;
    float distance_from_well_bottom = 7;
    float retract_distance_per_microliter = 8;
    float pump_in_flow_speed = 9;
    float pump_out_flow_speed = 10;
  }

  message Aspirate {
    float volume = 1;
    int32 plate_location = 2;
    optional float distance_from_well_bottom = 3;
    optional float pre_aspirate_volume = 4;
    optional float post_aspirate_volume = 5;
    optional float retract_distance_per_microliter = 6;
  }

  message Dispense {
    float volume = 1;
    bool empty_tips = 2;
    float blow_out_volume = 3;
    int32 plate_location = 4;
    optional float distance_from_well_bottom = 5;
    optional float retract_distance_per_microliter = 6;
  }

  message TipsOn {
    int32 plate_location = 1;
  }

  message TipsOff {
    int32 plate_location = 1;
  }

  message MoveToLocation {
    int32 plate_location = 1;
    optional bool only_z = 2;
  }

  message SetLabwareAtLocation {
    int32 plate_location = 1;
    string labware_type = 2;
  }

  message SetLiquidClass {
    string liquid_class = 1;
  }

  message PickAndPlace {
    int32 source_location = 1;
    int32 dest_location = 2;
    float gripper_offset = 3;
    float labware_thickness = 4;
  }

  message GetDeviceConfiguration {}

  message GetFirmwareVersion {}

  message EnumerateProfiles {}

  message ShowDiagnostics {}
}

message Response {
  oneof response {
    Success success = 1;
    Error error = 2;
    DeviceConfiguration device_configuration = 3;
    FirmwareVersion firmware_version = 4;
    ProfilesList profiles_list = 5;
  }

  message Success {
    string message = 1;
  }

  message Error {
    string error_message = 1;
    int32 error_code = 2;
  }

  message DeviceConfiguration {
    string configuration = 1;
  }

  message FirmwareVersion {
    string version = 1;
  }

  message ProfilesList {
    repeated string profiles = 1;
  }
}

message Config {
    string profile = 1;
}